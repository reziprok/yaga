function cssPrefix(n){if(cssPrefixString[n]||""===cssPrefixString[n])return cssPrefixString[n]+n;var t=document.createElement("div"),e=["","Moz","Webkit","O","ms","Khtml"];for(var a in e)if("undefined"!=typeof t.style[e[a]+n])return cssPrefixString[n]=e[a],e[a]+n;return!1}var pages=[{id:1,titel:"Home",lead:"Ich bin ein lead",view:"home"},{id:2,titel:"Login",lead:"Ich bin ein lead",view:"login"},{id:3,titel:"Upload",lead:"Hier kÃ¶nnen Sie Ihre Bilder uploaden",view:"upload"},{id:4,titel:"",lead:"",view:"albums"},{id:5,titel:"",lead:"",view:"album"}],cssPrefixString={},cssTransform;cssTransform=cssPrefix("Transform"),function(n){var t=function(t){function e(){return{init:a,showNav:o,hideNav:c,toggleNav:l,openStack:i}}function a(t){_this=n(t),_this.parent().css({height:"100%",position:"absolute",left:0,top:0,width:320,overflow:"hidden",transition:"all 300ms ease-in-out",cssTransform:function(){return cssTransform.indexOf("ebkit")>-1?"translate3d(-320px,0,0)":"translate(-320px,0)"}}),_this.parent().css(cssTransform,"translate(0,0)"),_this.css({height:"100%",position:"absolute",left:0,top:0,right:0,bottom:0,overflow:"auto",overflowX:"hidden","-webkit-overflow-scrolling":"touch",background:"#000",color:"#fff"}),toggler=n("<div>",{id:"navToggler"}).css({position:"absolute",left:270,top:20,zIndex:2,background:"white",transition:"all 300ms ease-in-out"}).html('<i class="fa fa-bars fa-2x"></i>').on("click",function(n){l()}).appendTo("body"),r()}function i(t){n("div[data-stackID="+t+"]").css({WebkitTransform:"translate3d(0,0,0)",MozTransform:"translate(0,0)",MsTransform:"translate(0,0)",transform:"translate(0,0)"}).addClass("open"),n("#navToggler").hide()}function s(){n(".sub-menu-wrapper.open").css({WebkitTransform:"translate3d(320px,0,0)",MozTransform:"translate(320px,0)",MsTransform:"translate(320px,0)",transform:"translate(320px,0)"}).removeClass("open"),n("#navToggler").show()}function r(){n(".sub-menu-wrapper").each(function(t){var e=n(this).attr("data-stackid","stackID-"+t).clone().appendTo(_this.parent());e.find(".sub-menu-titel i").css("cursor","pointer").on("click",function(n){n.preventDefault(),s("stackID-"+t)})}),n("#main-menu > ul > li a").each(function(t){n(this).on("click",function(e){e.preventDefault(),-1!=n(this).next().index()?(i("stackID-"+t/2),e.preventDefault()):app.loadPage(n(this).attr("data-id"))})})}function o(){_this.parent().css(cssTransform,"translate(0,0)"),n("#navToggler").css({left:270})}function c(){_this.parent().css(cssTransform,"translate(-320px,0)"),n("#navToggler").css({left:20})}function l(){-320!=_this.parent().css(cssTransform).replace("matrix(","").replace(")","").split(", ")[4]?c():o()}return e()};n.fn.navigationStack=function(n){return new t(n)}}(jQuery);var pluginInstance,app=function(){function n(){var n=new Object("I am the instance");return n}function t(){r=e(o),$("#menu-container").load("./assets/inc/partialviews/mainnav.html",function(n){pluginInstance=$("#main-menu").navigationStack({color:"white"}),pluginInstance.init($("#main-menu"))}),a(o)}function e(n){var t={};return $.each(pages,function(e,a){pages[e].id==n&&(t=pages[e])}),t}function a(n){o=n,r=e(o),$("#app-container").load("./assets/inc/views/"+r.view+"/"+r.view+".html",function(n){var t=$("#app-container").html(),e=Template7.compile(t),a=e(r);$("#app-container").html(a)})}function i(){$(window).width()<768?$("#navToggler").show():$(window).width()>=1024&&$("#navToggler").hide()}var s,r,o=pages[0].id;return{runApp:t,loadPage:a,updateRender:i,getPageModel:e,getInstance:function(){return s||(s=n()),s}}}();$(document).ready(function(){app.runApp(),$(window).resize(function(){app.updateRender()})});